{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL_GET = 'https://portfolio-js.b.goit.study/api/reviews';\nconst BASE_URL_POST = 'https://portfolio-js.b.goit.study/api/requests';\n\nexport const getFetchReviews = () => {\n  return axios.get(BASE_URL_GET);\n};\n\nexport const postFetchRequest = data => {\n  return axios.post(BASE_URL_POST, data);\n};\n","const swiperWrapperRev = document.querySelector('.swiper-wrapper.reviews');\n\nexport const createSlideCard = cards => {\n  if (!cards.length) {\n    swiperWrapperRev.innerHTML = '<p class=\"reviews-empty\">Not found</p>';\n    return;\n  }\n  const cardHTML = cards\n\n    .map(\n      card =>\n        `\n      <div class=\"swiper-slide review\">\n      <img class=\"review-img\" src=\"${card.avatar_url}\" alt=\"${card.author}\" />\n      <h3 class=\"title-third\">${card.author}</h3>\n      <p class=\"main-text\">${card.review}</p>\n      </div>\n      `\n    )\n    .join(' ');\n\n  swiperWrapperRev.innerHTML = cardHTML;\n};\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { getFetchReviews, postFetchRequest } from './js/api';\nimport { createSlideCard } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst openBtn = document.querySelector('.header-open-button');\nconst closeBtn = document.querySelector('.close-modal-icon');\nconst menuBtn = document.querySelector('.header-menu-button');\nconst nav = document.querySelector('.header-nav');\nconst modWindow = document.querySelector('.modal-window');\nconst closeLinkWin = document.querySelectorAll('.modal-menu, .modal-menu-wtg');\nconst closeLinkNav = document.querySelector('.modal-menu-link');\nconst formEl = document.querySelector('.wt-feedback-form');\nconst closeBtnWt = document.querySelector('.wt-modal-close-button');\nconst modalWT = document.querySelector('.wt-modal-backdrop');\nconst modalWTtitle = document.querySelector('.wt-modal-title');\nconst modalWTmessage = document.querySelector('.wt-modal-message');\n\nmenuBtn.addEventListener('click', () => {\n  nav.classList.toggle('is-open');\n});\n\ncloseLinkNav.addEventListener('click', () => {\n  nav.classList.remove('is-open');\n});\n\nopenBtn.addEventListener('click', () => {\n  modWindow.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n});\n\ncloseBtn.addEventListener('click', () => {\n  modWindow.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n});\n\ncloseLinkWin.forEach(link => {\n  link.addEventListener('click', () => {\n    modWindow.classList.remove('is-open');\n    document.body.classList.remove('no-scroll');\n  });\n});\n\ncloseBtnWt.addEventListener('click', closeModalWT);\n\nfunction onEscClose(e) {\n  if (e.key === 'Escape') {\n    closeModalWT();\n  }\n}\n\nmodalWT.addEventListener('click', e => {\n  if (e.target === modalWT) {\n    closeModalWT();\n  }\n});\n\nnew Accordion('.accordion-container.faq', {\n  duration: 300,\n  collapse: true,\n  showMultiple: false,\n});\n\nnew Accordion('.accordion-container.am', {\n  duration: 500,\n  openOnInit: [0],\n  collapse: true,\n  showMultiple: false,\n});\n\nnew Swiper('.swiper.projects', {\n  navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },\n});\n\nconst amSwiper = new Swiper('.swiper.am', {\n  loop: true,\n  speed: 400,\n  slidesPerGroup: 1,\n  allowTouchMove: true,\n  spaceBetween: 0,\n  slidesPerView: 2,\n\n  breakpoints: {\n    768: {\n      slidesPerView: 3,\n    },\n\n    1440: {\n      slidesPerView: 6,\n    },\n  },\n});\n\nfunction updateRedSlide() {\n  amSwiper.slides.forEach(slide => slide.classList.remove('active-red'));\n  const firstVisibleIndex = amSwiper.activeIndex;\n  amSwiper.slides[firstVisibleIndex].classList.add('active-red');\n}\n\nupdateRedSlide();\n\namSwiper.on('slideChange', updateRedSlide);\n\nconst revSwiper = new Swiper('.swiper.reviews', {\n  loop: false,\n  speed: 400,\n  slidesPerGroup: 1,\n  allowTouchMove: true,\n  spaceBetween: 16,\n  slidesPerView: 1,\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n    },\n\n    1440: {\n      slidesPerView: 4,\n    },\n  },\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n});\n\nconst getInfoReviews = async () => {\n  try {\n    const response = await getFetchReviews();\n\n    console.log(response.data);\n\n    createSlideCard(response.data);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\ngetInfoReviews();\n\nfunction openModalWT(data) {\n  modalWT.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  modalWTmessage.textContent = data.message;\n  modalWTtitle.textContent = data.title;\n  document.addEventListener('keydown', onEscClose);\n}\n\nfunction closeModalWT() {\n  modalWT.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n  modalWTmessage.textContent = '';\n  modalWTtitle.textContent = '';\n  document.removeEventListener('keydown', onEscClose);\n}\n\nconst onSubmitForm = async event => {\n  event.preventDefault();\n\n  const form = event.target;\n\n  if (!form.checkValidity()) {\n    form.reportValidity();\n    return;\n  }\n\n  const email = event.target.email.value.trim();\n  const comment = event.target.message.value.trim();\n\n  const requestData = {\n    email,\n    comment,\n  };\n\n  if (comment.length < 5) {\n    iziToast.error({\n      message: `❌ comment is too short`,\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return;\n  }\n\n  try {\n    const response = await postFetchRequest(requestData);\n    console.log(response.data.title);\n    console.log(response.data.message);\n\n    // alert('Заявка успішно відправлена!');\n\n    openModalWT(response.data);\n    formEl.reset();\n  } catch (err) {\n    console.log(err);\n    iziToast.error({\n      message: `❌ Error, try again`,\n      position: 'topRight',\n      timeout: 4000,\n    });\n  }\n};\n\nformEl.addEventListener('submit', onSubmitForm);\n\ndocument.querySelector('.am-button-next').addEventListener('click', () => {\n  amSwiper.slideNext();\n});\n"],"names":["BASE_URL_GET","BASE_URL_POST","getFetchReviews","axios","postFetchRequest","data","swiperWrapperRev","createSlideCard","cards","cardHTML","card","openBtn","closeBtn","menuBtn","nav","modWindow","closeLinkWin","closeLinkNav","formEl","closeBtnWt","modalWT","modalWTtitle","modalWTmessage","link","closeModalWT","onEscClose","Accordion","Swiper","amSwiper","updateRedSlide","slide","firstVisibleIndex","getInfoReviews","response","err","openModalWT","onSubmitForm","event","form","email","comment","requestData","iziToast"],"mappings":"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"}